<div class="page-container">
    <div class="header">
        <div class="icon-ig">
            <i class="bi bi-instagram"></i>
        </div>
        <h2 class="logo"> InstaPic </h2>
    </div>
    <form [formGroup]="formulario" class="container" (ngSubmit)= "enviarDatos()">  
        <legend class="text-center">Crear una cuenta</legend>
        <div>
            <label for="nombre" class="form-label">Nombre</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon1">
                    <i class="bi bi-person"></i>
                </span>
                <input type="text" id="nombre" class="form-control" formControlName="nombre" aria-label="Usuario" aria-describedby="basic-addon1">
            </div>
            <div *ngIf="nombre && nombre?.invalid && (nombre?.dirty || nombre?.touched)">
                <div *ngIf="nombre.errors?.['required']">El nombre de usuario es requerido.</div>
                <div *ngIf="nombre.errors?.['pattern']">El nombre de usuario solo puede contener letras, números, guiones, puntos y guiones bajos.</div>
                <div *ngIf="nombre.errors?.['minlength']">El nombre de usuario debe tener al menos 3 caracteres.</div>
                <div *ngIf="nombre.errors?.['noEmpiezaConLetra']">El nombre de usuario debe empezar con una letra.</div>
            </div>
        </div>
        <hr>
        <div>
            <label for="email" class="form-label">Correo electrónico</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon4">
                    <i class="bi bi-envelope-at"></i>
                </span>
                <input type="email" id="email" class="form-control" formControlName="email" aria-label="Email" aria-describedby="basic-addon4">
            </div>
            <div *ngIf="email && email?.invalid && (email?.dirty || email?.touched)">
                <div *ngIf="email.errors?.['required']">El email es requerido.</div>
                <div *ngIf="email.errors?.['email']">El email ingresado no tiene el formato correcto de un email.</div>
            </div>
        </div>
        <hr>
        <div>
            <label for="fecha" class="form-label">Fecha de nacimiento</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon8">
                    <i class="bi bi-calendar-date"></i>
                </span>
                <input type="date" id="fecha" class="form-control" formControlName="fecha" aria-label="Fecha" aria-describedby="basic-addon8">
            </div>
            <div *ngIf="fecha && fecha?.invalid && (fecha?.dirty || fecha?.touched)">
                <div *ngIf="fecha.errors?.['required']">La fecha es requerida.</div>
                <div *ngIf="fecha.errors?.['fechaMaxima']">La fecha no puede ser 20 años mayor o 30 años menor que el año actual.</div>
            </div>
        </div>
        <hr>
        <div>
            <label for="password" class="form-label">Contraseña</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon2">
                    <i class="bi bi-lock"></i>
                </span>
                <input type="password" id="password" class="form-control" formControlName="password" aria-label="Contraseña" aria-describedby="basic-addon2">
            </div>
            <div *ngIf="password && password?.invalid && (password?.dirty || password?.touched)">
                <div *ngIf="password.errors?.['required']">La contraseña es requerida.</div>
                <div *ngIf="password.errors?.['pattern']">La contraseña solo puede contener letras, números, guiones y puntos.</div>
                <div *ngIf="password.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres.</div>
            </div>
        </div>
        <hr>
        <div>
            <label for="rpassword" class="form-label">Repetir contraseña</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon3">
                    <i class="bi bi-lock"></i>
                </span>
                <input type="password" id="rpassword" class="form-control" formControlName="rpassword" aria-label="Contraseña" aria-describedby="basic-addon3">
            </div>
            <div *ngIf="rpassword && rpassword?.invalid && (rpassword?.dirty || rpassword?.touched)">
                <div *ngIf="rpassword.errors?.['required']">Ingrese nuevamente la contraseña.</div>
                <div *ngIf="rpassword.errors?.['passwordMismatch']">Las contraseñas no coinciden.</div>
            </div>
        </div>
        <hr>  
        <div class="d-flex justify-content-center">
            <button type="submit" class="register" [disabled]="formulario.invalid">Registrarme</button>
        </div>
    </form>
</div>





